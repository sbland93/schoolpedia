

<h3>한줄게시판 글생성</h3>

<form class="form-horizontal newBoardForm" role="form" action="/api/board" method="POST">
	<div class="form-group">
		<label for="fieldTitle" class="col-sm-2 control-label">제목</label>
		<div class="col-sm-4">
			<input type="text" class="form-control" required name="title" id="fieldTitle">
		</div>
	</div>
	<!--DOLATER Hidden -->
	<div class="form-group">
		<label for="fieldSchool" class="col-sm-2 control-label">학교</label>
		<div class="col-sm-4">
			<b>{{schoolInfo.name}}</b>
		</div>
	</div>

	<input type="hidden" class="form-control" required name="school" id="fieldSchool" value="{{schoolInfo.id}}">
	
	<div class="form-group">
		<label for="fieldContent" class="col-sm-2 control-label">내용</label>
		<div class="col-sm-4">
			<textarea class="form-control" required name="content" id="fieldContent" rows="10"></textarea>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-4">
			<button type="submit" class="btn btn-default">글생성</button>
		</div>
	</div>
</form>

{{#section 'jquery'}}
	<script type="text/javascript" src="/js/api/board.js"></script>
	<script type="text/javascript">
		$('.newBoardForm').on('submit', function(evt){
			evt.preventDefault();
			console.log($(this).serialize());
			console.log('here');
			addBoard($(this).serialize()).then(function(data){
				if(data.success) location.href = '/board/' + data.id;
				else{
					alert('Error Occured');
				}
			}).catch(function(){
				alert('Error Occured');
			})
		});
	</script>
{{/section}}