
<!--NameSpace : UP-->
<h3>프로필업데이트</h3>

<form class="form-horizontal updateProfileForm" id="updateProfileForm" role="form" action="/api/profile/{{profile.id}}" method="PUT" profileId="{{profile.id}}">
	<div class="form-group">
		<label for="fieldName" class="col-sm-2 control-label">이름</label>
		<div class="col-sm-4">
			<input type="text" class="form-control" required name="name" id="fieldName" value={{profile.name}} disabled>
		</div>
	</div>
	<div class="form-group">
		<label for="gender" class="col-sm-2 control-label">성별</label>
		<div class="col-sm-4">
			<input type="radio" name="gender" value="true" id="gender" {{#if profile.gender}} checked {{/if}} disabled> 남자
  			<input type="radio" name="gender" value="false" id="gender" {{#unless profile.gender}} checked {{/unless}} disabled> 여자<br>
		</div>
	</div>
	<div class="form-group">
		<label for="fieldAge" class="col-sm-2 control-label">나이</label>
		<div class="col-sm-2">
			<select name="age" class="form-control" id="fieldAge" value={{profile.age}} disabled>
				{{#iterateWithPlus 50 1950}}
					<option value="{{this}}">{{this}}</option>
				{{/iterateWithPlus}}
			</select>
		</div>
	</div>
	<!--DOLATER Hidden -->
	<!-- 동적으로 input추가 -->
	{{#if profile.highSchool}}
	<input type="hidden" name="highSchool" value="{{profile.highSchool.id}}">
	{{/if}}
	{{#if profile.middleSchool}}
		<input type="hidden" name="middleSchool" value="{{profile.middleSchool.id}}">
	{{/if}}
	{{#if profile.elementarySchool}}
		<input type="hidden" name="elementarySchool" value="{{profile.elementarySchool.id}}">
	{{/if}}
	
	<div class="highSchoolDiv">
		<div class="form-group">
			<label for="highSchoolField" class="col-sm-2 control-label">고등학교</label>
			<div class="col-sm-2" id="NPsearchHighResult">
				<input class="form-control schoolInput" type="text" id="highSchoolField" placeholder="입력후 학교확인" {{#if profile.highSchool.name}} value="{{profile.highSchool.name}}" disabled {{/if}}>
			</div>
			<button class="btn btn-danger col-sm-1 checkSchool" category="highSchool" {{#if profile.highSchool.name}} disabled {{/if}}>학교 확인</button>
			<span class="dynamicInput"></span>
		</div>

		<div class="highClass">
			{{#iterateForClass 3 profile.highClass}}
			<div class="form-group">
				<label for="fieldHigh{{classIndex}}" class="col-sm-2 control-label">{{classIndex}}학급</label>
				<div class="col-sm-4">
					<select class="form-control" name="highClass" id="fieldHigh{{classIndex}}">
						<option value="{{gradeNumber}}">기억이 잘안나요</option>
						{{#iterateOptionWithGrade 20 classIndex gradeValue}}
							<option value="{{optionValue}}" {{#if selectedValue}} selected {{/if}}>{{optionValue}}</option>
						{{/iterateOptionWithGrade}}
					</select>
				</div>
			</div>
			{{/iterateForClass}}
		</div>
	</div>
	
	<div class="middleSchoolDiv">
		<div class="form-group">
			<label for="middleSchoolField" class="col-sm-2 control-label">중학교</label>
			<div class="col-sm-2">
				<input type="text" class="form-control schoolInput" id="middleSchoolField" placeholder="입력후 학교확인" value="{{profile.middleSchool.name}}" {{#if profile.middleSchool.name}} disabled {{/if}}>
			</div>
			<button class="btn btn-danger col-sm-1 checkSchool" category="middleSchool" {{#if profile.middleSchool.name}} disabled {{/if}}>학교 확인</button>
			<span class="dynamicInput"></span>
		</div>

		<div class="middleClass">
			{{#iterateForClass 3 profile.middleClass}}
			<div class="form-group">
				<label for="fieldMiddle{{classIndex}}" class="col-sm-2 control-label">{{classIndex}}학급</label>
				<div class="col-sm-4">
					<select class="form-control" name="middleClass" id="fieldMiddle{{classIndex}}">
						<option value="{{gradeNumber}}">기억이 잘안나요</option>
						{{#iterateOptionWithGrade 20 classIndex gradeValue}}
							<option value="{{optionValue}}" {{#if selectedValue}} selected {{/if}}>{{optionValue}}</option>
						{{/iterateOptionWithGrade}}
					</select>
				</div>
			</div>
			{{/iterateForClass}}
		</div>
	</div>

	<div class="elementarySchoolDiv">
		<div class="form-group">
			<label for="elementarySchoolField" class="col-sm-2 control-label">초등학교</label>
			<div class="col-sm-2">
				<input type="text" class="form-control schoolInput" id="elementarySchoolField" placeholder="입력후 학교확인" value="{{profile.elementarySchool.name}}" {{#if profile.elementarySchool.name}} disabled {{/if}}>
			</div>
			<button class="btn btn-danger col-sm-1 checkSchool" category="elementarySchool" {{#if profile.elementarySchool.name}} disabled {{/if}}>학교 확인</button>
			<span class="dynamicInput"></span>
		</div>
		<div class="elementarySchool">
			{{#iterateForClass 6 profile.elementaryClass}}
			<div class="form-group">
				<label for="fieldElementary{{classIndex}}" class="col-sm-2 control-label">{{classIndex}}학년 학급</label>
				<div class="col-sm-4">
					<select class="form-control" name="elementaryClass" id="fieldElementary{{classIndex}}">
						<option value="{{gradeNumber}}">기억이 잘안나요</option>
						{{#iterateOptionWithGrade 20 classIndex gradeValue}}
							<option value="{{optionValue}}" {{#if selectedValue}} selected {{/if}}>{{optionValue}}</option>
						{{/iterateOptionWithGrade}}
					</select>
				</div>
			</div>
			{{/iterateForClass}}
		</div>
	</div>


	
	<div class="form-group">
		<div class="col-sm-offset-5 col-sm-3">
			<button type="submit" class="btn btn-default">글생성</button>
			<button class="btn btn-default goBack">취소</button>
		</div>
	</div>
</form>



{{#section 'head'}}
	<script type="text/javascript" src="/js/templates/templates.js"></script>
{{/section}}

{{#section 'jquery'}}
	<script type="text/javascript" src="/js/api/profile.js"></script>
	<script type="text/javascript" src="/js/api/school.js"></script>
	<script type="text/javascript" src="/js/controllers/updateProfileController.js"></script>
{{/section}}


